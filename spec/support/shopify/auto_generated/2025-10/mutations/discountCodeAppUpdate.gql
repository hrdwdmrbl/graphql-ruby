mutation discountCodeAppUpdate($id: ID!, $codeAppDiscount: DiscountCodeAppInput!){
    discountCodeAppUpdate(id: $id, codeAppDiscount: $codeAppDiscount){
        codeAppDiscount{
            appDiscountType{
                appKey
                description
                discountClasses
                functionId
                title
            }
            appliesOnOneTimePurchase
            appliesOnSubscription
            appliesOncePerCustomer
            asyncUsageCount
            codesCount{
                count
                precision
            }
            combinesWith{
                orderDiscounts
                productDiscounts
                shippingDiscounts
            }
            context{
                __typename
                ... on DiscountBuyerSelectionAll {
                    all
                }
                ... on DiscountCustomerSegments {
                    segments{
                        creationDate
                        id
                        lastEditDate
                        name
                        query
                    }
                }
                ... on DiscountCustomers {
                    customers{
                        canDelete
                        createdAt
                        dataSaleOptOut
                        displayName
                        firstName
                        id
                        lastName
                        legacyResourceId
                        lifetimeDuration
                        locale
                        multipassIdentifier
                        note
                        numberOfOrders
                        productSubscriberStatus
                        state
                        tags
                        taxExempt
                        taxExemptions
                        updatedAt
                        verifiedEmail
                    }
                }
            }
            createdAt
            discountClasses
            discountId
            endsAt
            errorHistory{
                errorsFirstOccurredAt
                firstOccurredAt
                hasBeenSharedSinceLastError
                hasSharedRecentErrors
            }
            hasTimelineComment
            recurringCycleLimit
            shareableUrls{
                targetType
                title
                url
            }
            startsAt
            status
            title
            totalSales{
                amount
                currencyCode
            }
            updatedAt
            usageLimit
        }
        userErrors{
            code
            extraInfo
            field
            message
        }
    }
}